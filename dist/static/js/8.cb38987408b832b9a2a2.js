webpackJsonp([8],{OjCw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Dd8w"),r=a.n(s),n={name:"untreated",data:function(){return{tableData:[],devData:{},reqData:{token:sessionStorage.getItem("token"),uid:sessionStorage.getItem("uid")},reviseData:{},reviseBox:!1}},filters:{getStatus:function(e){var t=void 0;switch(e){case 0:t="未转账";break;case 1:t="转账成功";break;case 2:t="转账失败";break;case 3:t="转账失败后再次转账成功"}return t}},computed:{nowDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,s=e.getDate();e.getHours(),e.getMinutes(),e.getSeconds();return t+"-"+a+"-"+s}},mounted:function(){this.getTranrecord()},methods:{getTranrecord:function(){var e=this;this.$ajax("/oa/tranrecord2",this.reqData,"post").then(function(t){0==t.code?(e.devData=t.data[0],e.tableData=t.data1):e.$message.error(t.message)}).catch(function(e){throw e})},revise:function(){var e=this,t=r()({},this.reqData,this.reviseData);this.$ajax("/oa/uptranrecord",t).then(function(t){0==t.code?(e.$message.success(t.message),e.closeBox(),e.getTranrecord()):e.$message.error(t.message)}).catch(function(t){e.$message.error(t)})},onePay:function(e){var t=this;this.$ajax("/oa/one_pay",r()({},this.reqData,{id:e.id})).then(function(e){0==e.code?(t.$message.success(e.message),t.getTranrecord()):t.$message.error(e.message)}).catch(function(e){t.$message.error(e)})},handleEdit:function(e){this.reviseBox=!0,this.reviseData={monery:e.monery,name:e.name,zfb:e.zfb,id:e.id}},closeBox:function(){this.reviseBox=!1,this.reviseData={}}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"untreated"}},[a("span",{staticStyle:{color:"#909399"}},[e._v("当前日期 : "+e._s(e.nowDate))]),e._v(" "),a("div",{staticClass:"untreated_head"},[a("p",[e._v("待处理笔数 : "),a("span",[e._v(e._s(e.devData.count))])]),e._v(" "),a("p",[e._v("待处理金额 : "),a("span",[e._v(e._s(e.devData.monery))])]),e._v(" "),a("p",[e._v("可提现金额 : "),a("span",[e._v(e._s(e.devData.balance))])])]),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{width:"100",type:"index",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{width:"60",prop:"monery",label:"金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",width:"80",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"zfb",label:"zfb账号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"device",width:"60",label:"设备号"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("getStatus")(t.row.status)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_date",label:"转账时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"out_biz_no",label:"商户单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_id",label:"订单编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remake",label:"备注信息"}}),e._v(" "),a("el-table-column",{attrs:{width:"80",prop:"operator",label:"操作人"}}),e._v(" "),a("el-table-column",{attrs:{width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){e.onePay(t.row)}}},[e._v("转账")])]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.reviseBox,expression:"reviseBox"}],staticClass:"model_box"},[a("div",{staticClass:"main_box"},[a("el-form",{staticClass:"formClass",attrs:{"label-width":"80px",model:e.reviseData}},[a("el-form-item",{attrs:{label:"金额"}},[a("el-input",{model:{value:e.reviseData.monery,callback:function(t){e.$set(e.reviseData,"monery",t)},expression:"reviseData.monery"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.reviseData.name,callback:function(t){e.$set(e.reviseData,"name",t)},expression:"reviseData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"zfb账号"}},[a("el-input",{model:{value:e.reviseData.zfb,callback:function(t){e.$set(e.reviseData,"zfb",t)},expression:"reviseData.zfb"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return t.stopPropagation(),e.revise(t)}}},[e._v("保存修改")])],1)],1),e._v(" "),a("i",{staticClass:"el-icon-circle-close",on:{click:e.closeBox}})],1)])],1)},staticRenderFns:[]};var i=a("VU/8")(n,o,!1,function(e){a("TXRX")},null,null);t.default=i.exports},TXRX:function(e,t){}});