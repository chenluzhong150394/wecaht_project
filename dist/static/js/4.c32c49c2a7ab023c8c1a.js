webpackJsonp([4],{"9wlK":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("Dd8w"),r=o.n(a),l={name:"privilegeManagement",data:function(){return{tableData:[],myForm:{power:{}},boxShow:!1,type:null,reqData:{token:sessionStorage.getItem("token"),uid:sessionStorage.getItem("uid")}}},mounted:function(){this.getUserlist()},methods:{getUserlist:function(){var e=this;this.$ajax("/oa/manage",r()({},this.reqData)).then(function(t){0==t.code?e.tableData=t.data:e.$message.error(t.message)}).catch(function(t){e.$message.error(t)})},handleDelete:function(e){var t=this;this.$ajax("/oa/remove_user",r()({},this.reqData,{id:e.id})).then(function(e){0==e.code?t.getUserlist():t.$message.error(e.message)})},addBtn:function(){this.boxShow=!0,this.type=!0,this.myForm={power:{}}},reviseBtn:function(e){this.boxShow=!0,this.type=!1,this.myForm=r()({},e,{power:r()({},e.auth)})},onSubmit:function(){var e=this,t=r()({},this.myForm,this.reqData),o=this.type?"/oa/edituser":"/oa/update_user_info";this.$ajax(o,t).then(function(t){0==t.code?(e.$message.success(t.message),e.boxShow=!1,e.getUserlist()):e.$message.error(t.message)}).catch(function(t){e.$message.error(t)})},closeBox:function(){this.boxShow=!1,this.myForm={power:{}}}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"privilegeManagement"}},[o("div",{staticClass:"add_btn"},[o("el-button",{attrs:{type:"primary",plain:""},on:{click:e.addBtn}},[e._v("新增用户")])],1),e._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[o("el-table-column",{attrs:{prop:"username",label:"用户名"}}),e._v(" "),o("el-table-column",{attrs:{prop:"real_name",label:"真实姓名"}}),e._v(" "),o("el-table-column",{attrs:{label:"用户密码"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("el-input",{attrs:{placeholder:"请输入密码",value:e.row.password,"show-password":""}})]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"role",label:"用户类型"}}),e._v(" "),o("el-table-column",{attrs:{width:"800",label:"权限"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-checkbox",{attrs:{value:t.row.auth.tranrecord,label:"今日提现",disabled:""}}),e._v(" "),o("el-checkbox",{attrs:{value:t.row.auth.tranrecord1,label:"转账记录",disabled:""}}),e._v(" "),o("el-checkbox",{attrs:{value:t.row.auth.tranrecord2,label:"待处理提现",disabled:""}}),e._v(" "),o("el-checkbox",{attrs:{value:t.row.auth.update_settings,label:"支付设置",disabled:""}}),e._v(" "),o("el-checkbox",{attrs:{value:t.row.auth.manage,label:"用户管理",disabled:""}}),e._v(" "),o("el-checkbox",{attrs:{value:t.row.auth.edituser,label:"新建用户",disabled:""}}),e._v(" "),o("el-checkbox",{attrs:{value:t.row.auth.update_user_info,label:"修改用户信息及权限",disabled:""}}),e._v(" "),o("el-checkbox",{attrs:{value:t.row.auth.remove_user,label:"删除用户",disabled:""}}),e._v(" "),o("el-checkbox",{attrs:{value:t.row.auth.operationlog,label:"查看日志",disabled:""}}),e._v(" "),o("el-checkbox",{attrs:{value:t.row.auth.tranmonery,label:"主页转账笔数金额",disabled:""}}),e._v(" "),o("el-checkbox",{attrs:{value:t.row.auth.money,label:"批量转账",disabled:""}}),e._v(" "),o("el-checkbox",{attrs:{value:t.row.auth.one_pay,label:"单笔转账",disabled:""}})]}}])}),e._v(" "),o("el-table-column",{staticStyle:{width:"100%"},attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.reviseBtn(t.row)}}},[e._v("修改")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.boxShow,expression:"boxShow"}],staticClass:"addUser_box"},[o("el-form",{ref:"form",attrs:{model:e.myForm,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"用户名"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.myForm.username,callback:function(t){e.$set(e.myForm,"username",t)},expression:"myForm.username"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.myForm.password,callback:function(t){e.$set(e.myForm,"password",t)},expression:"myForm.password"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"真实姓名"}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.myForm.real_name,callback:function(t){e.$set(e.myForm,"real_name",t)},expression:"myForm.real_name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"用户类型"}},[o("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:""},model:{value:e.myForm.role,callback:function(t){e.$set(e.myForm,"role",t)},expression:"myForm.role"}},[o("el-option",{attrs:{label:"管理员",value:"管理员"}})],1)],1),e._v(" "),o("el-form-item",{staticStyle:{width:"460px"},attrs:{label:"权限选择"}},[o("el-checkbox",{attrs:{label:"今日提现",name:"power"},model:{value:e.myForm.power.tranrecord,callback:function(t){e.$set(e.myForm.power,"tranrecord",t)},expression:"myForm.power.tranrecord"}}),e._v(" "),o("el-checkbox",{attrs:{label:"转账记录",name:"power"},model:{value:e.myForm.power.tranrecord1,callback:function(t){e.$set(e.myForm.power,"tranrecord1",t)},expression:"myForm.power.tranrecord1"}}),e._v(" "),o("el-checkbox",{attrs:{label:"待处理提现",name:"power"},model:{value:e.myForm.power.tranrecord2,callback:function(t){e.$set(e.myForm.power,"tranrecord2",t)},expression:"myForm.power.tranrecord2"}}),e._v(" "),o("el-checkbox",{attrs:{label:"支付设置",name:"power"},model:{value:e.myForm.power.update_settings,callback:function(t){e.$set(e.myForm.power,"update_settings",t)},expression:"myForm.power.update_settings"}}),e._v(" "),o("el-checkbox",{attrs:{label:"用户管理",name:"power"},model:{value:e.myForm.power.manage,callback:function(t){e.$set(e.myForm.power,"manage",t)},expression:"myForm.power.manage"}}),e._v(" "),o("el-checkbox",{attrs:{label:"新建用户",name:"power"},model:{value:e.myForm.power.edituser,callback:function(t){e.$set(e.myForm.power,"edituser",t)},expression:"myForm.power.edituser"}}),e._v(" "),o("el-checkbox",{attrs:{label:"删除用户",name:"power"},model:{value:e.myForm.power.remove_user,callback:function(t){e.$set(e.myForm.power,"remove_user",t)},expression:"myForm.power.remove_user"}}),e._v(" "),o("el-checkbox",{attrs:{label:"查看日志",name:"power"},model:{value:e.myForm.power.operationlog,callback:function(t){e.$set(e.myForm.power,"operationlog",t)},expression:"myForm.power.operationlog"}}),e._v(" "),o("el-checkbox",{attrs:{label:"批量转账",name:"power"},model:{value:e.myForm.power.money,callback:function(t){e.$set(e.myForm.power,"money",t)},expression:"myForm.power.money"}}),e._v(" "),o("el-checkbox",{attrs:{label:"单笔转账",name:"power"},model:{value:e.myForm.power.one_pay,callback:function(t){e.$set(e.myForm.power,"one_pay",t)},expression:"myForm.power.one_pay"}}),e._v(" "),o("el-checkbox",{attrs:{label:"修改用户信息及权限",name:"power"},model:{value:e.myForm.power.update_user_info,callback:function(t){e.$set(e.myForm.power,"update_user_info",t)},expression:"myForm.power.update_user_info"}}),e._v(" "),o("el-checkbox",{attrs:{label:"主页转账笔数金额",name:"power"},model:{value:e.myForm.power.tranmonery,callback:function(t){e.$set(e.myForm.power,"tranmonery",t)},expression:"myForm.power.tranmonery"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")]),e._v(" "),o("el-button",{on:{click:e.closeBox}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var n=o("VU/8")(l,s,!1,function(e){o("K3ZM")},"data-v-dec936b8",null);t.default=n.exports},K3ZM:function(e,t){}});